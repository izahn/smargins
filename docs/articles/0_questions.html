<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>smargins Questions and Discussion â€¢ smargins</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">smargins</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/0_questions.html">smargins Questions and Discussion</a>
    </li>
    <li>
      <a href="../articles/1_about.html">About smargins</a>
    </li>
    <li>
      <a href="../articles/2_quickstart.html">smargins Quickstart Guide</a>
    </li>
    <li>
      <a href="../articles/3_lm.html">Expected Values for LMs</a>
    </li>
    <li>
      <a href="../articles/4_glm.html">Expected Values for GLMs</a>
    </li>
    <li>
      <a href="../articles/5_svyglm.html">Expected Values for Regression with Survey Weights</a>
    </li>
    <li>
      <a href="../articles/6_tobit.html">Expected Values for Tobit Models</a>
    </li>
    <li>
      <a href="../articles/7_transforming_covariates.html">Transforming Covariates</a>
    </li>
    <li>
      <a href="../articles/8_with_Amelia.html">Using smargins with Amelia</a>
    </li>
    <li>
      <a href="../articles/9_package_comparisons.html">Comparison of R Packges for Calculating Expected Values</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>smargins Questions and Discussion</h1>
            
            <h4 class="date">2017-11-17</h4>
          </div>

    
    
<div class="contents">
<section id="specify-x-variable-names-or-values" class="level1"><h1>Specify x variable names or values?</h1>
<p>Given the following model:</p>
<pre class="sourceCode r" id="cb1"><code class="sourceCode r"><div class="sourceLine" id="cb1-1" data-line-number="1">m &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp <span class="op">+</span><span class="st"> </span>wt, <span class="dt">data =</span> mtcars)</div></code></pre>
<p>suppose that we wish to examine the effect of <code>hp</code> by calculating expected values at several levels of <code>hp</code> while averaging over the observed values of wt.</p>
<p>Which do you like better?</p>
<pre class="sourceCode r" id="cb2"><code class="sourceCode r"><div class="sourceLine" id="cb2-1" data-line-number="1">
<span class="kw">smargins_v1</span>(m, <span class="dt">hp =</span> <span class="kw">quantile</span>(hp))</div></code></pre>
<pre><code>##       hp .sim_number .smargin_qi
## 1     52           1    21.97407
## 2     52           2    23.96503
## 3     52           3    22.48332
## 4     52           4    21.89098
## 5     52           5    23.57139
## 6     52           6    22.38506
## # - - - - - - - - - - - - - - - -                                 
## 24995 335        4995    13.36943
## 24996 335        4996    13.73412
## 24997 335        4997    15.59957
## 24998 335        4998    15.87856
## 24999 335        4999    12.27776
## 25000 335        5000    12.84393</code></pre>
<p>or</p>
<pre class="sourceCode r" id="cb4"><code class="sourceCode r"><div class="sourceLine" id="cb4-1" data-line-number="1">
<span class="kw">smargins_v2</span>(m, <span class="st">"hp"</span>)</div></code></pre>
<pre><code>##       hp .sim_number .smargin_qi
## 1     52           1    22.68868
## 2     52           2    22.92714
## 3     52           3    23.61668
## 4     52           4    21.04832
## 5     52           5    21.42625
## 6     52           6    21.31860
## # - - - - - - - - - - - - - - - -                                 
## 24995 335        4995    16.38439
## 24996 335        4996    16.18415
## 24997 335        4997    13.02228
## 24998 335        4998    11.23566
## 24999 335        4999    18.58491
## 25000 335        5000    15.69146</code></pre>
<p>?</p>
<p>Now suppose that we want to choose the values of hp ourselves:</p>
<pre class="sourceCode r" id="cb6"><code class="sourceCode r"><div class="sourceLine" id="cb6-1" data-line-number="1">
<span class="kw">smargins_v1</span>(m, <span class="dt">hp =</span> <span class="kw">seq</span>(<span class="dv">50</span>, <span class="dv">350</span>, <span class="dt">by =</span> <span class="dv">50</span>))</div></code></pre>
<pre><code>##       hp .sim_number .smargin_qi
## 1     50           1    23.88214
## 2     50           2    22.98180
## 3     50           3    23.55576
## 4     50           4    21.97559
## 5     50           5    21.45884
## 6     50           6    22.94064
## # - - - - - - - - - - - - - - - -                                 
## 34995 350        4995    15.58560
## 34996 350        4996    14.49089
## 34997 350        4997    13.31861
## 34998 350        4998    11.59527
## 34999 350        4999    14.46449
## 35000 350        5000    15.03300</code></pre>
<p>or</p>
<pre class="sourceCode r" id="cb8"><code class="sourceCode r"><div class="sourceLine" id="cb8-1" data-line-number="1">
<span class="kw">smargins_v2</span>(m, <span class="st">"hp"</span>, <span class="dt">xvalues =</span> <span class="kw">list</span>(<span class="dt">hp =</span> <span class="kw">seq</span>(<span class="dv">50</span>, <span class="dv">350</span>, <span class="dt">by =</span> <span class="dv">50</span>)))</div></code></pre>
<pre><code>##       hp .sim_number .smargin_qi
## 1     50           1    23.71535
## 2     50           2    24.35932
## 3     50           3    21.37553
## 4     50           4    24.70782
## 5     50           5    23.18573
## 6     50           6    24.51646
## # - - - - - - - - - - - - - - - -                                 
## 34995 350        4995    13.48421
## 34996 350        4996    12.05715
## 34997 350        4997    11.19626
## 34998 350        4998    10.75879
## 34999 350        4999    12.17630
## 35000 350        5000    13.64790</code></pre>
<p>Now which do you prefer?</p>
<p><code>smargins_v1</code> is more verbose for the simple case, but less so when the user does wish to specify values. Which one should we pick? Or is there some combination or alternative that would be even better?</p>
</section>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#specify-x-variable-names-or-values">Specify x variable names or values?</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Ista Zahn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
